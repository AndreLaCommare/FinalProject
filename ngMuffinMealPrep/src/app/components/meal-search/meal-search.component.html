
<table class="table table-striped table-hover" *ngIf="!selected">
  <thead>
    <tr>

      <th>Name</th>
      <th>Created By:</th>


    </tr>
  </thead>
  <tbody>

<tr *ngFor="let meal of resultMeals | enabledMeals" (click)="displaySingleMeal(meal)"  >



  <td>{{meal.name}}</td>
  <td *ngIf="meal.user">{{meal.user.username}}</td>


</tr>
  </tbody>

</table>

<div id="mealDetailDiv" *ngIf="selected">

  <div class="card" style="width: 18 rem;">
    <img class="card-img-top" [src]="selected.imageUrl" alt="Card image cap">
    <div class="card-body">

  <h1> Name: {{selected.name}}</h1>

  <p>Desc: {{selected.description}}</p>
  <p>Instructions: {{selected.instructions}}</p>
  Groceries:
  <ul >
    <li *ngFor="let grocery of selected.groceryItems">
      {{grocery.name}} <button *ngIf="loggedIn()" (click)="addGroceryToShoppingList(grocery)">Add To Shopping List</button>
    </li>
  </ul>



  <ul>
    <li>Prep Time: {{selected.prepTime | number: '1.1-1'}} min</li>
    <li>Cook Time: {{selected.cookTime | number: '1.1-1'}} min</li>

  </ul>
  <div class="review-form" *ngIf="loggedIn()">
    <h3>Add a Review</h3>
    <form (ngSubmit)="onSubmitReview()">
      <div>
        <label for="stars">Stars:</label>
        <input [(ngModel)]="newReview.stars" name="stars" type="number" min="0" max="5" required>
      </div>
      <div>
        <label for="comment">Comment:</label>
        <textarea [(ngModel)]="newReview.comment" name="comment" required></textarea>
      </div>
      <button type="submit">Submit</button>
    </form>
  </div>

  <div class="reviews" *ngIf="mealReviews.length > 0">
    <h3>Reviews</h3>
    <ul>
      <li *ngFor="let review of mealReviews">
        <p>Stars: {{review.stars}}</p>
        <p>Comment: {{review.comment}}</p>
        <p>Reviewed by: {{review.user.username}}</p>
    </ul>
  </div>
  <button class ="btn btn-primary"(click)="displayTable()">Back</button>
</div>
</div>
</div>

